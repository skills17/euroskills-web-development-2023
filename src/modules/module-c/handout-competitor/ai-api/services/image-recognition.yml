paths:
  /recognize:
    post:
      summary: Recognize objects in an image
      operationId: recognizeImage_recognize
      tags:
        - Image Recognition
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImageRecognitionSuccessResponse'
        '400': # Bad request
          $ref: '../api.openapi.yml#/components/responses/ProblemResponse'
        '401': # Unauthorized
          $ref: '../api.openapi.yml#/components/responses/ProblemResponse'
        '403': # Quota exceeded
          $ref: '../api.openapi.yml#/components/responses/ProblemResponse'
        '500': # Internal server error
          $ref: '../api.openapi.yml#/components/responses/ProblemResponse'
        '503': # Service unavailable
          $ref: '../api.openapi.yml#/components/responses/ProblemResponse'

components:
  schemas:
    ImageRecognitionSuccessResponse:
      type: object
      properties:
        objects:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              probability:
                type: number
                format: float
                description: Probability of the object being in the image 0-1
              bounding_box:
                type: object
                properties:
                  x:
                    type: number
                    format: integer
                  y:
                    type: number
                    format: integer
                  width:
                    type: number
                    format: integer
                  height:
                    type: number
                    format: integer
